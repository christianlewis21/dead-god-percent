<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analyzer</title>
    <link rel="stylesheet" href="analyzerstyles.css" id="stylesheet">
</head>
<body>
    <div class="button"><a href="index.html" class="buttontext">Back to the Main Page</a></div>
    <input type="checkbox" id="viewtoggle" checked></input>
    <label for="viewtoggle">Advanced View</label><br>

    <input type="checkbox" id="taintedtoggle"></input>
    <label for="taintedtoggle">View Tainted Progress</label><br>

    <div class="charactersheets" id="advancedgraphics">
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-1" src="pictures/refs/characters/001isaac.png">
            <img class="mark" src="pictures/refs/marks/Hheart.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-2" src="pictures/refs/characters/002magdalene.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-3" src="pictures/refs/characters/003cain.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-4" src="pictures/refs/characters/004judas.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-5" src="pictures/refs/characters/005bluebaby.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-6" src="pictures/refs/characters/006eve.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-7" src="pictures/refs/characters/007samson.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-8" src="pictures/refs/characters/008azazel.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-9" src="pictures/refs/characters/009lazarus.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-10" src="pictures/refs/characters/010eden.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-11" src="pictures/refs/characters/011lost.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-12" src="pictures/refs/characters/012lilith.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-13" src="pictures/refs/characters/013keeper.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-14" src="pictures/refs/characters/014apollyon.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-15" src="pictures/refs/characters/015forgotten.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-16" src="pictures/refs/characters/016bethany.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/paper.png">
            <img class='character' id="character-17" src="pictures/refs/characters/017jacob.png">
        </div>
    </div>
    <div class="charactersheets" id="taintedgraphics">
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-18" src="pictures/refs/characters/001Tisaac.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-19" src="pictures/refs/characters/002Tmagdalene.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-20" src="pictures/refs/characters/003Tcain.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-21" src="pictures/refs/characters/004Tjudas.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-22" src="pictures/refs/characters/005Tbluebaby.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-23" src="pictures/refs/characters/006Teve.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-24" src="pictures/refs/characters/007Tsamson.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-25" src="pictures/refs/characters/008Tazazel.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-26" src="pictures/refs/characters/009Tlazarus.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-27" src="pictures/refs/characters/010Teden.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-28" src="pictures/refs/characters/011Tlost.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-29" src="pictures/refs/characters/012Tlilith.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-30" src="pictures/refs/characters/013Tkeeper.png">
        </div>
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-31" src="pictures/refs/characters/014Tapollyon.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-32" src="pictures/refs/characters/015Tforgotten.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-33" src="pictures/refs/characters/016Tbethany.png">
        </div> 
        <div class="completion">
            <img class='sheet' src="pictures/refs/marks/Tpaper.png">
            <img class='character' id="character-34" src="pictures/refs/characters/017Tjacob.png">
        </div>
    </div>

    <pre id="fileContent"></pre>
    <script>
        const viewtoggle = document.getElementById("viewtoggle");
        const taintedtoggle = document.getElementById("taintedtoggle");
        const stylesheet = document.getElementById("stylesheet");
        const advancedgraphics = document.getElementById("advancedgraphics");
        const taintedgraphics = document.getElementById("taintedgraphics");
        const positionBooleanMap = JSON.parse(localStorage.getItem("positionBooleanMap"));

        document.addEventListener("DOMContentLoaded", function() {
            checkCharacterUnlocks(positionBooleanMap)
            taintedgraphics.remove()
        });

        viewtoggle.addEventListener("click", function() {
            if (stylesheet.getAttribute("href") === "analyzerstyles.css") {
                stylesheet.setAttribute("href", "simple.css");
                advancedgraphics.remove()
                taintedgraphics.remove()
                const data = localStorage.getItem("processedData");
                if (data) {
                    document.getElementById("fileContent").textContent = data;
                }

            } else {
                stylesheet.setAttribute("href", "analyzerstyles.css");
                fileContent.textContent = '';
                document.body.appendChild(advancedgraphics);
                taintedgraphics.remove()
            }
        });

        taintedtoggle.addEventListener('click', function() {
            if (document.body.contains(advancedgraphics)) {
                advancedgraphics.remove()
                document.body.appendChild(taintedgraphics)
            } else {
                taintedgraphics.remove()
                document.body.appendChild(advancedgraphics)
            }
        });

        function checkCharacterUnlocks(positionBooleanMap) {
            if (positionBooleanMap['1'] === false) {
                document.getElementById('character-2').classList.add('grayscale');
            }
            if (positionBooleanMap['2'] === false) {
                document.getElementById('character-3').classList.add('grayscale');
            }
            if (positionBooleanMap['3'] === false) {
                document.getElementById('character-4').classList.add('grayscale');
            }
            if (positionBooleanMap['32'] === false) {
                document.getElementById('character-5').classList.add('grayscale');
            }
            if (positionBooleanMap['42'] === false) {
                document.getElementById('character-6').classList.add('grayscale');
            }
            if (positionBooleanMap['67'] === false) {
                document.getElementById('character-7').classList.add('grayscale');
            }
            if (positionBooleanMap['79'] === false) {
                document.getElementById('character-8').classList.add('grayscale');
            }
            if (positionBooleanMap['80'] === false) {
                document.getElementById('character-9').classList.add('grayscale');
            }
            if (positionBooleanMap['81'] === false) {
                document.getElementById('character-10').classList.add('grayscale');
            }
            if (positionBooleanMap['82'] === false) {
                document.getElementById('character-11').classList.add('grayscale');
            }
            if (positionBooleanMap['199'] === false) {
                document.getElementById('character-12').classList.add('grayscale');
            }
            if (positionBooleanMap['251'] === false) {
                document.getElementById('character-13').classList.add('grayscale');
            }
            if (positionBooleanMap['340'] === false) {
                document.getElementById('character-14').classList.add('grayscale');
            }
            if (positionBooleanMap['390'] === false) {
                document.getElementById('character-15').classList.add('grayscale');
            }
            if (positionBooleanMap['404'] === false) {
                document.getElementById('character-16').classList.add('grayscale');
            }
            if (positionBooleanMap['405'] === false) {
                document.getElementById('character-17').classList.add('grayscale');
            }
            if (positionBooleanMap['474'] === false) {
                document.getElementById('character-18').classList.add('grayscale');
            }
            if (positionBooleanMap['475'] === false) {
                document.getElementById('character-19').classList.add('grayscale');
            }
            if (positionBooleanMap['476'] === false) {
                document.getElementById('character-20').classList.add('grayscale');
            }
            if (positionBooleanMap['477'] === false) {
                document.getElementById('character-21').classList.add('grayscale');
            }
            if (positionBooleanMap['478'] === false) {
                document.getElementById('character-22').classList.add('grayscale');
            }
            if (positionBooleanMap['479'] === false) {
                document.getElementById('character-23').classList.add('grayscale');
            }
            if (positionBooleanMap['480'] === false) {
                document.getElementById('character-24').classList.add('grayscale');
            }
            if (positionBooleanMap['481'] === false) {
                document.getElementById('character-25').classList.add('grayscale');
            }
            if (positionBooleanMap['482'] === false) {
                document.getElementById('character-26').classList.add('grayscale');
            }
            if (positionBooleanMap['483'] === false) {
                document.getElementById('character-27').classList.add('grayscale');
            }
            if (positionBooleanMap['484'] === false) {
                document.getElementById('character-28').classList.add('grayscale');
            }
            if (positionBooleanMap['485'] === false) {
                document.getElementById('character-29').classList.add('grayscale');
            }
            if (positionBooleanMap['486'] === false) {
                document.getElementById('character-30').classList.add('grayscale');
            }
            if (positionBooleanMap['487'] === false) {
                document.getElementById('character-31').classList.add('grayscale');
            }
            if (positionBooleanMap['488'] === false) {
                document.getElementById('character-32').classList.add('grayscale');
            }
            if (positionBooleanMap['489'] === false) {
                document.getElementById('character-33').classList.add('grayscale');
            }
            if (positionBooleanMap['490'] === false) {
                document.getElementById('character-34').classList.add('grayscale');
            }
        }
        function checkCharacterMarks() {
            
        }
    </script>
</body>
</html>